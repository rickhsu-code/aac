---
mappings:
  - xls_sheet: external_epg_contract
    key_element: contract
    elements:
      - name: tenant
        class: fvTenant
        attribute: name
        conditions:
          - type: is_parent_parent_parent
      - name: l3out
        class: l3extOut
        attribute: name
        conditions:
          - type: is_parent_parent
      - name: name
        class: l3extInstP
        attribute: name
        mandatory: true
        conditions:
          - type: is_parent
      - name: contract_qos_class
        class: fvRsProv
        attribute: prio
      - name: contract
        class: fvRsProv
        attribute: tnVzBrCPName
        mandatory: true
      - name: consumed_ctr
        value: 'no'
      - name: provided_ctr
        value: 'yes'

  - xls_sheet: external_epg_contract
    key_element: contract
    elements:
      - name: tenant
        class: fvTenant
        attribute: name
        conditions:
          - type: is_parent_parent_parent
      - name: l3out
        class: l3extOut
        attribute: name
        conditions:
          - type: is_parent_parent
      - name: name
        class: l3extInstP
        attribute: name
        mandatory: true
        conditions:
          - type: is_parent
      - name: contract_qos_class
        class: fvRsCons
        attribute: prio
      - name: contract
        class: fvRsCons
        attribute: tnVzBrCPName
        mandatory: true
      - name: consumed_ctr
        value: 'yes'
      - name: provided_ctr
        value: 'no'
