---
mappings:
  - xls_sheet: l3out
    key_element: name
    elements:
      - name: tenant
        class: fvTenant
        attribute: name
        conditions:
          - type: is_parent
      - name: route_control_enforcement
        class: l3extOut
        attribute: enforceRtctrl
      - name: name
        class: l3extOut
        attribute: name
        mandatory: true
      - name: vrf
        class: l3extRsEctx
        attribute: tnFvCtxName
        conditions:
          - type: is_child
      - name: l3out_domain
        class: l3extRsL3DomAtt
        attribute: tDn
        attribute_match_regex: '(?<=/l3dom-).*'
        conditions:
          - type: is_child
      - name: enable_pim
        class: pimExtP
        attribute: enabledAf
        map_attribute:
          - attribute_regex: ipv4-mcast
            mapped_value: 'yes'
        default_value: 'no'
        conditions:
          - type: is_child
      - name: consumer_label
        class: l3extConsLbl
        attribute: name
        conditions:
          - type: is_child
      - name: provider_label
        class: l3extProvLbl
        attribute: name
        conditions:
          - type: is_child
      - name: ospf_area_cost
        class: ospfExtP
        attribute: areaCost
        conditions:
          - type: is_child
      - name: ospf_area_id
        class: ospfExtP
        attribute: areaId
        conditions:
          - type: is_child
        map_attribute:
          - attribute_regex: 'backbone'
            mapped_value: '0'
      - name: ospf_area_type
        class: ospfExtP
        attribute: areaType
        conditions:
          - type: is_child
      - name: enable_bgp
        class: bgpExtP
        map_class_value: 'yes'
        default_value: 'no'
        conditions:
          - type: is_child
